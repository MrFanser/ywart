var bus=new function(){var o=this;window.AppUrl="","www.ywart.com"===location.hostname&&-1===location.href.indexOf("20001")?AppUrl="https://openapi.ywart.com/2.0/api/":AppUrl="https://devopenapi.ywart.com/2.0/api/",o.ajax={},o.ajax.ajaxurl=AppPath+"/ajax/index",$.ajaxSetup({url:o.ajax.ajaxurl,type:"post",cache:!1}),$.ajaxsync=function(){return $("#loadingToast")&&$("#loadingToast").show(),$.ajax.apply(this,arguments).complete(function(){$("#loadingToast")&&$("#loadingToast").hide()})},o.ajax.CommonErrorCheck=function(n,t){return!!n&&(n.HasException?(o.tools.appendLog("异常信息:"+n.ExceptionMsg),t||(t="系统发生错误"),o.ui.alert(t),!1):!n.HasError||(o.ui.alert(n.ErrorMsg),!1))},o.ui={},o.ui.alert=function(o,n){alert(o),null!=n&&"function"==typeof n&&n()},o.ui.confirm=function(o,n){window.confirm(o)&&null!=n&&"function"==typeof n&&n()},o.tools={},o.tools.appendLog=function(o){$('<div style="display:none"></div>').text(o).appendTo("body")},o.tools.gotoUrl=function(o){window.location.href=o,window.event&&(window.event.returnValue=!1)},o.ui.colspanAll=function(){$(".colspanAll").each(function(){var o,n=$(this),t=n.closest("table"),a=t.children("tbody");o=a.size()>0?a.find("td:first"):t.find("td:first");var i=o.parent("tr").children("td").size();n.attr("colspan",i)})}};